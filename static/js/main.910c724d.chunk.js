(this["webpackJsonpshiba-book-shop"]=this["webpackJsonpshiba-book-shop"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(7),s=n.n(i),j=(n(34),n(35),n(11)),d=n.n(j),l=n(23),a=n(9),o=n(24),u=n.n(o),b=n(4),h="ADD_ITEM_TO_ORDER",O="REMOVE_ITEM_FROM_ORDER",x="CLEAR_ORDER",f=function(e){return function(t){t(function(e){return{type:h,payload:e}}(e))}},g=function(e){return function(t){t(function(e){return{type:O,payload:e}}(e))}},p=function(){return function(e){e({type:x})}},v=n(0);var m=function(){var e=Object(b.c)((function(e){return e.orderReducer})),t=Object(b.b)(),n=e.orders;return Object(v.jsx)("div",{children:Object(v.jsxs)("table",{className:"table table-striped",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"ID"}),Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Price"}),Object(v.jsx)("th",{children:"Unit"}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{})]})}),Object(v.jsx)("tbody",{children:n.length>0?n.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.id}),Object(v.jsx)("td",{children:e.title}),Object(v.jsx)("td",{children:e.price}),Object(v.jsxs)("td",{children:[" x ",e.unit]}),Object(v.jsx)("td",{onClick:function(){return t(f(e))},children:"\u2b06\ufe0f"}),Object(v.jsx)("td",{onClick:function(){return t(g(e))},children:"\u2b07\ufe0f"})]},e.id)})):Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"No Order Item"}),Object(v.jsx)("td",{}),Object(v.jsx)("td",{}),Object(v.jsx)("td",{}),Object(v.jsx)("td",{}),Object(v.jsx)("td",{})]})})]})})},y=n(29),N=n(2),R=function(e,t){return e.filter((function(e){return e.id===t.id})).length>0?e.map((function(e){return e.id===t.id?Object(N.a)(Object(N.a)({},e),{},{unit:e.unit+1}):e})):[].concat(Object(y.a)(e),[Object(N.a)(Object(N.a)({},t),{},{unit:1})])},w=function(e,t){return 1===e.filter((function(e){return e.id===t.id}))[0].unit?e.filter((function(e){return e.id!==t.id})):e.map((function(e){return e.id===t.id?Object(N.a)(Object(N.a)({},e),{},{unit:e.unit-1}):e}))},k=function(e){return e.filter((function(e){return"9780241392362"!==e.id}))},C=function(e){for(var t=1e7,n=0;n<e.length;n++)t>e[n].unit&&(t=e[n].unit);return t},D=function(e){return function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r].price*t;return n}(e,function(e){switch(e.length){case 1:return 0;case 2:return.1;case 3:return.11;case 4:return.12;case 5:return.13;case 6:return.14;case 7:return.15;default:return 0}}(e))},E=function(e,t){for(var n=0;n<e.length;n++)e[n].unit=Number(e[n].unit)-t;return e.filter((function(e){return 0!==e.unit}))};var S=function(){var e=Object(r.useState)(0),t=Object(a.a)(e,2),n=t[0],c=t[1],i=Object(b.b)(),s=Object(b.c)((function(e){return e.orderReducer})),j=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].price*e[n].unit;return t}(s.orders),d=function(e){var t=0,n=k(e),r=JSON.parse(JSON.stringify(n));t+=D(r)*C(r);var c=E(r,C(r));t+=D(c)*C(c);var i=E(c,C(c));t+=D(i)*C(i);var s=E(i,C(i));t+=D(s)*C(s);var j=E(s,C(s));t+=D(j)*C(j);var d=E(j,C(j));t+=D(d)*C(d);var l=E(d,C(d));return t+=D(l)*C(l),Math.floor(t)}(s.orders),l=j-d,o=n-l;return Object(v.jsx)("div",{style:{fontSize:20,display:"flex",flexDirection:"row-reverse",padding:30},children:Object(v.jsx)("table",{className:"table-striped",children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Price : "}),Object(v.jsx)("td",{id:"summary",align:"right",style:{color:"blue"},children:j})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Discount : "}),Object(v.jsx)("td",{id:"discount",align:"right",style:{color:"green"},children:d})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Net Price : "}),Object(v.jsx)("td",{align:"right",style:{color:"blue"},children:l})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Receive : "}),Object(v.jsx)("td",{align:"right",children:Object(v.jsx)("input",{style:{textAlign:"right"},type:"number",name:"receive",value:n,onChange:function(e){c(e.target.value)}})})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Change : "}),o>0?Object(v.jsx)("td",{align:"right",style:{color:"green"},children:o}):Object(v.jsx)("td",{align:"right",style:{color:"red"},children:o})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{}),Object(v.jsx)("td",{align:"right",children:Object(v.jsx)("button",{className:"btn btn-info mt-2",onClick:function(){i(p()),c(0)},children:"Clear Order"})})]})]})})})};var I=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],i=Object(b.b)(),s=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("https://s3-ap-southeast-1.amazonaws.com/smallwill.com/shiba-book-shop.json");case 3:return t=e.sent,n=t.data,console.log(n),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s().then((function(e){return c(e.books)}))}),[]),Object(v.jsxs)("div",{style:{margin:20},children:[Object(v.jsx)("h1",{style:{textAlign:"center"},children:"SHIBA BOOK SHOP"}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsx)("div",{className:"row",style:{textAlign:"center"},children:n&&n.map((function(e){return Object(v.jsxs)("div",{onClick:function(){i(f(e))},style:{fontSize:14,margin:10,padding:10,width:180,height:370,border:"1px solid teal",borderRadius:10},children:[Object(v.jsx)("img",{src:e.cover,alt:e.id,style:{width:144,height:220}}),Object(v.jsx)("p",{children:e.title}),Object(v.jsxs)("p",{children:[" Price : ",e.price]}),Object(v.jsx)("button",{className:"btn btn-primary btn-sm",children:"BUY"})]},e.id)}))})}),Object(v.jsxs)("div",{className:"col",style:{display:"flex",flexDirection:"column"},children:[Object(v.jsx)("h2",{children:"Order"}),Object(v.jsx)("div",{style:{flex:2},children:Object(v.jsx)(m,{})}),Object(v.jsx)("div",{style:{flex:1},children:Object(v.jsx)(S,{})})]})]})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))},_=n(5),A=n(27),M=n.n(A),B=n(28),F={orders:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case h:return Object(N.a)(Object(N.a)({},e),{},{orders:R(e.orders,r)});case O:return Object(N.a)(Object(N.a)({},e),{},{orders:w(e.orders,r)});case x:return Object(N.a)(Object(N.a)({},e),{},{orders:[]});default:return e}},J=Object(_.c)({orderReducer:T}),z=Object(_.d)(J,Object(_.a)(B.a,M.a));s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(b.a,{store:z,children:Object(v.jsx)(I,{})})}),document.getElementById("root")),P()}},[[63,1,2]]]);
//# sourceMappingURL=main.910c724d.chunk.js.map